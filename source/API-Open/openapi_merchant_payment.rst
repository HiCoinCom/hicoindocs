4 商户给用户打款
====================

:域名: http://avenger.hicoin.one/api

4.1 业务流程
-------------------

第三方服务端直接调用

:业务场景:

- 用户发起提现
- 给用户发放红包
- 用户退款
 
:调用方: 商户服务端、游戏方服务端、第三方平台服务端


4.2 获取基础授权token
--------------------------

:说明: 获取基础token，注意：此接口无需公共参数，需提前将服务器IP地址添加到IP白名单中
:接口地址: /cgi-bin/access_token
:请求方式: POST
:请求参数:

===================== ========== ========== =================================================
参数名                 数据类型    是否必须    说明
app_id                string     是         第三方标识
secret                string     是         第三方key
grant_type            string     是         填写为client_credential
===================== ========== ========== =================================================


:响应参数:

===================== ========== ========== =================================================
参数名                 数据类型    是否必须    说明
access_token          string     是         基础授权access token
expires_in            string     是         access_token接口调用凭证超时时间，单位（秒）
===================== ========== ========== =================================================

4.3 商户给用户打款
--------------------------

:说明: 商户给用户打款
:接口地址: /mmpaymkttransfers/promotion/transfers
:请求方式: POST
:请求参数:


===================== ========== ========== =================================================
参数名                 数据类型    是否必须    说明
nonce_str              string    是         32位随机数
sign                   string    是         参数签名
biz_content            string    是         业务请求参数的集合json
===================== ========== ========== =================================================


**biz_content结构体**

===================== ========== ========== =================================================
参数名                 数据类型    是否必须    说明
openid                 string    是         用户openid
body                   string    是         订单说明
subject                string    是         订单标题
out_trade_no           string    是         第三方网站唯一订单号，32字符0-9A-Za-z
total_amount           long      是         支付币种数量，所有币种使用8位精度，如1eth则传100000000
settle_currency        string    是         支付币种大写，USDT
===================== ========== ========== =================================================


:响应参数:

===================== ========== ========== =================================================
参数名                 数据类型    是否必须    说明
out_trade_no          string     是         第三方网站唯一订单号
trade_no              string     是         平台订单号(prepay_id)
trade_type            string     是         JSAPI、H5
nonce_str             string     是         32位随机数
sign                  string     是         返回数据签名
===================== ========== ========== =================================================


4.4 商户给用户打款订单查询
--------------------------

:说明: 商户给用户打款订单查询
:接口地址: /mmpaymkttransfers/gettransferinfo
:请求方式: POST
:请求参数:

===================== ========== ========== =================================================
参数名                 数据类型    是否必须    说明
nonce_str              string    是         32位随机数
sign                   string    是         参数签名
biz_content            string    是         业务请求参数的集合json
===================== ========== ========== =================================================


**biz_content结构体**

===================== ========== ========== =================================================
参数名                 数据类型    是否必须    说明
out_trade_no          string     是         第三方网站唯一订单号
===================== ========== ========== =================================================


:响应参数:

===================== ========== ========== =================================================
参数名                 数据类型    是否必须    说明
out_trade_no          string     是         第三方网站唯一订单号
trade_no              string     是         平台订单号(prepay_id)
trade_status          string     是         订单状态,SUCCESS（转账成功）， FAILED(转帐失败)
reason                string     是         失败原因，如：商户余额不足
total_amount          long       是         订单币种数量,精度8位
settle_currency       string     是         购买币种：固定为USDT
settle_trans_amount   long       是         实际打币数量,精度8位
subject               string     是         订单标题
body                  string     是         订单说明
trade_time            string     是         订单时间
openid                string     是         用户openid
nonce_str             string     是         32位随机数
sign                  string     是         返回数据签名
===================== ========== ========== =================================================

**重点字段说明：**

- trade_status: SUCCESS（转账成功）， FAILED(转帐失败)
